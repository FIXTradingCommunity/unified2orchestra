### Message AllocationInstructionAlert type BM category Allocation (98)

This message is used in a 3-party allocation model where notification of group creation and group updates to counterparties is needed. The mssage will also carry trade information that comprised the group to the counterparties.

| Name                        | Tag       | Req'd | Documentation                                                                                                                               |
|-----------------------------|-----------|----------|-------------------------------------------------------------------------------------------------------------------------------|
| StandardHeader              | component |   Y   | MsgType = BM                                                                                                                               |
| AllocID                     | 70        |   Y   | Unique identifier for this allocation instruction alert message                                                                                                                               |
| AllocTransType              | 71        |   Y   | i.e. New, Cancel, Replace                                                                                                                               |
| AllocType                   | 626       |   Y   | Specifies the purpose or type of Allocation message                                                                                                                               |
| AllocRequestID              | 2758      |       | Identifier of the request this message is responding to when responding to an AllocationInstructionAlertRequest(35=DU).                                                                                                                               |
| SecondaryAllocID            | 793       |       | Optional second identifier for this allocation instruction (need not be unique)                                                                                                                               |
| RefAllocID                  | 72        |       | Required for AllocTransType = Replace or Cancel                                                                                                                               |
| AllocCancReplaceReason      | 796       |       | Required for AllocTransType = Replace or Cancel/P/Gives the reason for replacing or cancelling the allocation instruction                                                                                                                               |
| AllocIntermedReqType        | 808       |       | Required if AllocType = 8 (Request to Intermediary)/P/Indicates status that is requested to be transmitted to counterparty by the intermediary (i.e. clearing house)                                                                                                                               |
| AllocLinkID                 | 196       |       | Can be used to link two different Allocation messages (each with unique AllocID) together, i.e. for F/X "Netting" or "Swaps"                                                                                                                               |
| AllocLinkType               | 197       |       | Can be used to link two different Allocation messages and identifies the type of link. Required if AllocLinkID is specified.                                                                                                                               |
| AllocGroupID                | 1730      |       | Group identifier assigned by the clearinghouse                                                                                                                               |
| FirmGroupID                 | 1728      |       | Firm assigned entity identifier for the allocation                                                                                                                               |
| BookingRefID                | 466       |       | Can be used with AllocType=" Ready-To-Book "                                                                                                                               |
| AllocNoOrdersType           | 857       |       | Indicates how the orders being booked and allocated by an Allocation Instruction or Allocation Report message are identified, e.g. by explicit definition in the OrdAllocGrp or ExecAllocGrp components , or not identified explicitly.                                                                                                                               |
| OrdAllocGrp                 | group     |       | Indicates number of orders to be combined for allocation. If order(s) were manually delivered set to 1 (one).Required when AllocNoOrdersType = 1                                                                                                                               |
| ExecAllocGrp                | group     |       | Indicates number of individual execution or trade entries. Absence indicates that no individual execution or trade entries are included. Primarily used to support step-outs.                                                                                                                               |
| PreviouslyReported          | 570       |       |                                                                                                                                |
| ReversalIndicator           | 700       |       |                                                                                                                                |
| MatchType                   | 574       |       |                                                                                                                                |
| Side                        | 54        |   Y   |                                                                                                                                |
| Instrument                  | component |   Y   | Insert here the set of "Instrument" (symbology) fields defined in "common components of application messages"                                                                                                                               |
| InstrumentExtension         | component |       | Insert here the set of "InstrumentExtension" fields defined in "common components of application messages"                                                                                                                               |
| FinancingDetails            | component |       | Insert here the set of "FinancingDetails" fields defined in "common components of application messages"                                                                                                                               |
| UndInstrmtGrp               | group     |       |                                                                                                                                |
| InstrmtLegGrp               | group     |       |                                                                                                                                |
| Quantity                    | 53        |       | When not using allocation groups, this is the total quantity (e.g. number of shares) allocated to all accounts, or that is Ready-To-Book. When using allocation groups, this is the quantity added or removed when trades are added to or removed from an allocation group. To remove quantity from the allocation group a negative value is specified in Quantity(53). When the allocation group quantity is unchanged, such as when AllocType(626) changes from 12(Incomplete group) to 13(Complete group) , the value for Quantity(53) should be zero (0). |
| QtyType                     | 854       |       |                                                                                                                                |
| AllocGroupQuantity          | 1736      |       |                                                                                                                                |
| AllocGroupRemainingQuantity | 1737      |       |                                                                                                                                |
| GroupAmount                 | 2759      |       |                                                                                                                                |
| GroupRemainingAmount        | 2760      |       |                                                                                                                                |
| LastMkt                     | 30        |       | Market of the executions.                                                                                                                               |
| TradeOriginationDate        | 229       |       |                                                                                                                                |
| TradingSessionID            | 336       |       |                                                                                                                                |
| TradingSessionSubID         | 625       |       |                                                                                                                                |
| PriceType                   | 423       |       |                                                                                                                                |
| PriceQualifierGrp           | group     |       |                                                                                                                                |
| AvgPx                       | 6         |       | For F/X orders, should be the "all-in" rate (spot rate adjusted for forward points)./P/For 3rd party allocations used to convey either basic price or averaged price/P/Optional for average price allocations in the listed derivatives markets where the central counterparty calculates and manages average price across an allocation group.                                                                                                                               |
| AvgParPx                    | 860       |       |                                                                                                                                |
| HighPx                      | 332       |       | Maybe used to indicate the highest price within the specified allocation group.                                                                                                                               |
| LowPx                       | 333       |       | Maybe used to indicate the lowest price within the specified allocation group.                                                                                                                               |
| SpreadOrBenchmarkCurveData  | component |       | Insert here the set of "SpreadOrBenchmarkCurveData" fields defined in "common components of application messages"                                                                                                                               |
| Currency                    | 15        |       | Currency of AvgPx. Should be the currency of the local market or exchange where the trade was conducted.                                                                                                                               |
| AvgPxPrecision              | 74        |       | Absence of this field indicates that default precision arranged by the broker/institution is to be used                                                                                                                               |
| Parties                     | group     |       | Insert here the set of "Parties" (firm identification) fields defined in "common components of application messages"                                                                                                                               |
| TradeDate                   | 75        |   Y   |                                                                                                                                |
| TransactTime                | 60        |       | Date/time when allocation is generated                                                                                                                               |
| AllocStatus                 | 87        |       | Identifies status of allocation.                                                                                                                               |
| SettlType                   | 63        |       |                                                                                                                                |
| SettlDate                   | 64        |       | Takes precedence over SettlType value and conditionally required/omitted for specific SettlType values.                                                                                                                               |
| BookingType                 | 775       |       | Method for booking. Used to provide notification that this is to be booked out as an OTC derivative (e.g. CFD or similar). Absence of this field implies regular booking.                                                                                                                               |
| GrossTradeAmt               | 381       |       | Expressed in same currency as AvgPx. Sum of (AllocQty * AllocAvgPx or AllocPrice).                                                                                                                               |
| Concession                  | 238       |       |                                                                                                                                |
| TotalTakedown               | 237       |       |                                                                                                                                |
| NetMoney                    | 118       |       | Expressed in same currency as AvgPx. Sum of AllocNetMoney.                                                                                                                               |
| PositionEffect              | 77        |       |                                                                                                                                |
| AutoAcceptIndicator         | 754       |       | Indicates if Allocation has been automatically accepted on behalf of the Carry Firm by the Clearing House                                                                                                                               |
| Text                        | 58        |       |                                                                                                                                |
| EncodedTextLen              | 354       |       | Must be set if EncodedText field is specified and must immediately precede it.                                                                                                                               |
| EncodedText                 | 355       |       | Encoded (non-ASCII characters) representation of the Text field in the encoded format specified via the MessageEncoding field.                                                                                                                               |
| NumDaysInterest             | 157       |       | Applicable for Convertible Bonds and fixed income                                                                                                                               |
| AccruedInterestRate         | 158       |       | Applicable for Convertible Bonds and fixed income                                                                                                                               |
| AccruedInterestAmt          | 159       |       | Applicable for Convertible Bonds and fixed income (REMOVED FROM THIS LOCATION AS OF FIX 4.4, REPLACED BY AllocAccruedInterest)                                                                                                                               |
| TotalAccruedInterestAmt     | 540       |       | (Deprecated) use AccruedInterestAmt Sum of AccruedInterestAmt within repeating group.                                                                                                                               |
| InterestAtMaturity          | 738       |       |                                                                                                                                |
| EndAccruedInterestAmt       | 920       |       | For repurchase agreements the accrued interest on termination.                                                                                                                               |
| StartCash                   | 921       |       | For repurchase agreements the start (dirty) cash consideration                                                                                                                               |
| EndCash                     | 922       |       | For repurchase agreements the end (dirty) cash consideration                                                                                                                               |
| LegalConfirm                | 650       |       |                                                                                                                                |
| Stipulations                | group     |       |                                                                                                                                |
| YieldData                   | component |       |                                                                                                                                |
| PositionAmountData          | group     |       | Insert here here the set of "Position Amount Data" fields defined in "Common Components of Application Messages"                                                                                                                               |
| TotNoAllocs                 | 892       |       | Indicates total number of allocation groups (used to support fragmentation). Must equal the sum of all NoAllocs values across all message fragments making up this allocation instruction./P/Only required where message has been fragmented.                                                                                                                               |
| LastFragment                | 893       |       | Indicates whether this is the last fragment in a sequence of message fragments. Only required where message has been fragmented.                                                                                                                               |
| AllocGrp                    | group     |       | Indicates number of allocation groups to follow./P/Not required for AllocTransType=Cancel/P/Not required for AllocType=" Ready-To-Book " or "Warehouse instruction".                                                                                                                               |
| AvgPxIndicator              | 819       |       | Indicates if an allocation is to be average priced. Is also used to indicate if average price allocation group is complete or incomplete.                                                                                                                               |
| AvgPxGroupID                | 1731      |       | Firm designated group identifier for average pricing.                                                                                                                               |
| ClearingBusinessDate        | 715       |       | Indicates Clearing Business Date for which transaction will be settled.                                                                                                                               |
| TrdType                     | 828       |       | Indicates Trade Type of Allocation.                                                                                                                               |
| TrdSubType                  | 829       |       | Indicates TradeSubType of Allocation. Necessary for defining groups.                                                                                                                               |
| CustOrderCapacity           | 582       |       | Indicates CTI of original trade marked for allocation.                                                                                                                               |
| TradeInputSource            | 578       |       | Indicates input source of original trade marked for allocation.                                                                                                                               |
| MultiLegReportingType       | 442       |       | Indicates MultiLegReportType of original trade marked for allocation.                                                                                                                               |
| MessageEventSource          | 1011      |       | Used to identify the event or source which gave rise to a message.                                                                                                                               |
| RndPx                       | 991       |       | Specifies the rounded price to quoted precision.                                                                                                                               |
| CustOrderHandlingInst       | 1031      |       |                                                                                                                                |
| OrderHandlingInstSource     | 1032      |       |                                                                                                                                |
| StandardTrailer             | component |   Y   |                                                                                                                                |

